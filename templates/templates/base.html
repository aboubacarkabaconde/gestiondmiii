{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Gestion D.M.I [ADMIN]{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  {% include '_includes/_theme_css.html' %}
  <style>
    .navbar-brand{font-weight:700;color:#fff!important}
    .nav-link{color:rgba(255,255,255,.85)!important;font-weight:500;padding:.5rem 1rem;margin:0 2px;border-radius:4px;transition:.3s}
    .nav-link:hover,.nav-link.active{background:rgba(255,255,255,.15);color:#fff!important}
    .dashboard-card{border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,.08);transition:.3s;border:none;height:100%}
    .dashboard-card:hover{transform:translateY(-4px)}
    .main-content{margin-top:20px;padding:20px}
    .section-title{border-left:4px solid var(--secondary-color);padding-left:10px;margin:20px 0;font-weight:600}
  </style>
  {% block extra_css %}{% endblock %}
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container">
      <a class="navbar-brand" href="{% url 'dashboard' %}"><i class="bi bi-building"></i> GESTION D.M.I [ADMIN]</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" href="{% url 'dashboard' %}"><i class="bi bi-speedometer2"></i> Tableau de bord</a></li>
          <li class="nav-item"><a class="nav-link {% if request.resolver_match.app_name == 'depenses' %}active{% endif %}" href="{% url 'depenses:liste' %}"><i class="bi bi-cash-coin"></i> Dépenses</a></li>
          <li class="nav-item"><a class="nav-link {% if request.resolver_match.app_name == 'sites' %}active{% endif %}" href="{% url 'sites:liste' %}"><i class="bi bi-geo-alt"></i> Sites</a></li>
          <li class="nav-item"><a class="nav-link {% if request.resolver_match.app_name == 'production' %}active{% endif %}" href="{% url 'production:liste_matieres' %}"><i class="bi bi-cpu"></i> Production</a></li>
          <li class="nav-item"><a class="nav-link {% if request.resolver_match.app_name == 'employes' %}active{% endif %}" href="{% url 'employes:liste' %}"><i class="bi bi-people"></i> Employés</a></li>
          <li class="nav-item"><a class="nav-link {% if request.resolver_match.app_name == 'factures' %}active{% endif %}" href="{% url 'factures:liste' %}"><i class="bi bi-receipt"></i> Factures</a></li>
          <li class="nav-item"><a class="nav-link {% if request.resolver_match.app_name == 'inventaire' %}active{% endif %}" href="{% url 'inventaire:tableau' %}"><i class="bi bi-boxes"></i> Inventaire</a></li>
        </ul>
        <div class="d-flex align-items-center">
          {% include '_includes/_dark_toggle.html' %}
          <a href="{% url 'admin:logout' %}" class="btn btn-outline-light btn-sm ms-3"><i class="bi bi-box-arrow-right"></i> Déconnexion</a>
        </div>
      </div>
    </div>
  </nav>

  {% include '_includes/_messages.html' %}

  <div class="container main-content">{% block content %}{% endblock %}</div>
  <footer class="bg-light text-center p-3 mt-5"><div class="container"><p class="mb-0">© 2025 Gestion D.M.I [ADMIN]</p></div></footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  {% block extra_js %}{% endblock %}
</body>
</html>
